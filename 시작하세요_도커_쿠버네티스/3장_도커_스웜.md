**스웜 클래식과 도커 스웜 모드**

  여러 대의 도커 서버를 하나의 클러스터로 만들어 컨테이너를 생성하는 기능. 스웜 클래식은 레거시임

**도커 스웜 모드의 구조**

![image-20240424232300716](images/3장_도커_스웜/image-20240424232300716.png)

  스웜 모드는 매니저 노드와 워커 노드로 구성. 매니저 노드가 워커노드 역할도 할 수 있지만, 구분해서 사용하는 것을 권장.

**스웜 모드 서비스**

  스웜 모드에서 제어 단위는 컨테이너가 아닌 서비스. 서비스 내에 컨테이너는 1개 이상 존재할 수 있음. 서비스 정의에 따라 노드별로 컨테이너를 분산해서 할당하는데 이를 레플리카라고 함.

  스웜 모드에서는 secret, config 기능을 이용해 비밀번호나 ssh 키 등 민감한 정보와 레지스트리 설정 파일을 관리함

**도커 스웜 네트워크**

  스웜 모드에서는 여러 개의 도커 엔진에 같은 컨테이너를 분산해서 할당하기 때문에 각 도커 데몬의 네트워크가 하나로 묶인 네트워크 풀이 필요.

- ingress 네트워크 : 스웜 클러스터를 생성하면 자동으로 등록되는 네트워크. 라운드 로빈 방식
- 오버레이 네트워크 : 스웜 클러스터 내에서 컨테이너가 할당받는 가상 네트워크 인터페이스