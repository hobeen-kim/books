# 1. 아키텍처 결정 안티패턴

  안티패턴은 처음에는 좋은 생각처럼 보이지만 이내 곧 곤경에 빠뜨리는 애물단지라고 정의합니다. 자주 발생하는 안티패턴은 아래 3가지 입니다.

- 네 패를 먼저 보여주지마
- 무한반복 회의
- 이메일 기반 아키텍처

## 1.1 '네 패를 먼저 보여주지마' 패턴

  아키텍트가 잘못된 선택을 두려워한 나머지 결정을 회피하거나 미루는 현상입니다. 이는 두 가지 방법으로 극복할 수 있습니다. 첫번째는 중요한 아키텍처 결정을 내리기 전, 마지막으로 책임질 수 있는 순간까지 기다리는 것입니다. 아키텍트가 자신의 결정을 정당화하고 검증하기 위해 충분한 정보를 수집할 때까지 기다리지만, 개발팀을 마냥 붙잡아둘 때까지 기다리는 것은 아닙니다. 두번째로 개발팀과 지속적으로 협력하면서 아키텍트가 결정한 내용을 원래 의도대로 추진하는 것입니다.

## 1.2 '무한반복 회의' 패턴

  해당 패턴은 사람들이 어떤 결정을 왜 했는지 모르고 주구장창 회의만 계속하는 것입니다. 해당 패턴이 발생하는 이유는 아키텍트가 자신이 내린 결정을 정당화하는 데 실패했기 때문입니다. 아키텍트는 기술적, 비즈니스적으로 모두 구성원들을 납득시켜야 합니다. 또한 비즈니스 가치를 정당화하는 게 중요한데, 일반적인 비즈니스 정당화로는 비용, 출시 시기, 유저 만족도, 전랴적 포지셔닝 등이 있습니다.

## 1.3 '이메일 기반 아키텍처' 안티패턴

  해당 패턴은 아키텍처 결정을 정당화했음에도 사람들이 결정을 놓치거나 잊어버리는 상태입니다. 즉, 결정을 효과적으로 전달하는 문제와 관련된 안티패턴입니다. 이 안티패턴을 방지하기 위해서는 먼저 이메일 본문에 아키텍처 결정을 포함시키지 않아야 합니다. 결정에 관련된 사항은 단일 기록 시스템에 보관해야 합니다. 두번째로 아키텍처 결정에 정말 관심있는 사람에게만 통지를 하는 것입니다. 

# 2. 아키텍처적으로 중요한

  아키텍처적으로 중요한 결정이란 구조, 비기능 특성, 의존성, 인터페이스, 구현 기술에 영향을 미치는 결정입니다.

- 구조 : 사용 중인 아키텍처의 패턴이나 스타일에 영향을 미치는 결정들입니다.
- 비기능 특성 : 개발 또는 유지보수 중인 애플리케이션이나 시스템에 중요한 아키텍처 특성들입니다.
- 의존성 : 전체 확장성, 모듈성, 민첩성, 시험성, 안정성 등에 영향을 미치는 시스템 내부의 컴포넌트와 서비스 간의 커플링 지점입니다.
- 인터페이스 : 게이트웨이, 통합 허브, 서비스 버스, API 프록시를 통해 서비스와 컴포넌트에 액세스하고 조정하는 수단
- 구현 기술 : 이키텍처의 많은 부분에 영향을 미치는 플랫폼, 프레임워크, 도구, 프로세스에 관한 결정

# 3. 아키텍처 결정 코드

  아키텍처 결정을 가장 효과적으로 문서화하는 방법으로 아키텍처 결정 레코드 (ADR, Architecture Decision Record) 를 사용할 수 있습니다.

## 3.1 기본 구조

  ADR 의 기본 구조는 제목, 상태, 콘텍스트, 결정, 결과 5개 섹션으로 구성되며 컴플라이언스와 노트라는 추가 섹션을 덧붙입니다.

![image-20240308214401412](images/19장_아키텍처_결정/image-20240308214401412.png)